<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steam Top-up</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background-color: #1b2838; color: white; font-family: sans-serif; padding: 20px; }
        .container { display: flex; flex-direction: column; gap: 15px; }
        input { padding: 12px; border-radius: 5px; border: 1px solid #66c0f4; background: #101822; color: white; }
        button { padding: 15px; background-color: #66c0f4; border: none; border-radius: 5px; color: white; font-weight: bold; cursor: pointer; }
        .hint { font-size: 0.8em; color: #8f98a0; }
    </style>
</head>
<body>
    <div class="container">
        <h2>Пополнение Steam</h2>
        <input type="text" id="steam_login" placeholder="Логин Steam (не никнейм!)">
        <p class="hint">Указывайте именно логин, который вы используете при входе.</p>
        
        <input type="number" id="amount" placeholder="Сумма (в рублях)">
        
        <button id="pay_btn">Перейти к оплате</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand(); // Разворачивает приложение на весь экран

        const payBtn = document.getElementById('pay_btn');

        payBtn.addEventListener('click', () => {
            const login = document.getElementById('steam_login').value;
            const amount = document.getElementById('amount').value;

            if (!login || !amount) {
                alert("Пожалуйста, заполните все поля!");
                return;
            }

            // Отправляем данные обратно боту
            const data = {
                login: login,
                amount: amount
            };
            tg.sendData(JSON.stringify(data)); 
            // После этого метода Mini App закроется, а бот получит сообщение с этими данными
        });
    </script>
</body>
</html>